<html>
	<head>
		<script type="text/javascript" src="http://syddev.com/jquery.videoBG/assets/jquery-1.5.1.js"></script>
		<script type="text/javascript" src="jquery.videoBG.js"></script>
	</head>
	<style type="text/css">
		body {
			font-family: "Helvetica";
			margin: 0px;
		}

		div#title {
			font-size: 3.0em;
			font-weight: bold;
			color: #fff;
			text-shadow: 1px 1px 10px #000;
			position: absolute;
			top: 20px;
			left: 20px;
			z-index: 1000;
		}
	</style>

	<body style='margin: 0px;'>
		<div id='video-back' style='width: 100%; height: 100%;'></div>
		<div id='title'></div>

		<script type='text/javascript'>
			$(document).keydown(function(e){
			    if (e.keyCode == 37) { // left
			       	previousVideo(randomInt);
			       	return false;
			    } else if (e.keyCode == 39) {
			    	nextVideo(randomInt);
			    	return false;
			    }
			});

			function playVideoWithPosition(position) {
				var title = videoTitleFromPosition(position);
				var videoFile = videoFileFromPosition(position);
				var posterFile = posterFileFromPosition(position);

				$("div#title").html(title);
				$('body').videoBG({
					mp4: videoFile,
					ogv: videoFile,
					webm: videoFile,
					poster: posterFile,
					opacity: 1.0,
					autoplay: true,
					scale: false,
					width: '100%',
					height:'100%'
				});
			}

			function videoFileFromPosition(position) {
				return "/videos/" + videoFiles[randomInt]['file'] + ".mp4";
			}

			function videoTitleFromPosition(position) {
				return "/videos/" + videoFiles[randomInt]['title'] + ".mp4";
			}

			function posterFileFromPosition(position) {
				return "/videos/" + videoFiles[randomInt]['file'] + ".jpg";
			}

			function nextVideo(position) {
				var nextPosition = position++;
				if(nextPosition >= videoFiles.length)
					nextPosition = videoFiles.length - 1;

				playVideoWithPosition(nextPosition);
			}

			function previousVideo(position) {
				var prevPosition = position++;
				if(prevPosition < 0)
					prevPosition = 0;

				playVideoWithPosition(prevPosition);
			}

			$(document).ready({
				var videoFiles = [
					{"file": "spencer-sleeping-la", "title": "Sleeping in LA" },
					{"file": "spencer-sleeping-santa-monica", "title": "Sleeping in Santa Monica" },
					{"file": "sleeping-mv-08-20-2012", "title": "Sleeping in Mountain View"},
					{"file": "sleeping-vegas-08-19-2012", "title": "Sleeping in Vegas on Aug. 20 2012"},
					{"file": "sleeping-vegas-desert-08-19-2012", "title": "Sleeping to the Desert on Aug. 20 2012"},
				];
				
				var randomInt = Math.floor((Math.random()*videoFiles.length));
				playVideoWithPosition(randomInt);
			});
		</script>
	</body>
</html>